{"version":3,"sources":["src/local_object.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,YAAU;AACb,aAAS,WAAW,CAAC,EAAE,EAAE,SAAS,EAAC;AACjC,YAAI,EAAE,IAAI,IAAI,IAAI,YAAY,WAAW,CAAA,AAAC,EAAE;AAAE,mBAAO;SAAE;AACvD,YAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AAAE,kBAAM,IAAI,SAAS,CAAC,oCAAoC,CAAC,CAAC;SAAE;AACxF,YAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AACb,YAAG,SAAS,EAAC;AACX,gBAAI,CAAC,KAAK,EAAE,CAAC;SACd,MAAM;AACL,gBAAI,WAAW,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AAC/B,gBAAG,WAAW,EAAC;AACX,oBAAI,CAAC,MAAM,GAAG,WAAW,CAAC;aAC7B,MAAM;AACH,oBAAI,CAAC,MAAM,GAAG,EAAE,CAAC;aACpB;SACF;KACF;;AAED,eAAW,CAAC,SAAS,CAAC,GAAG,GAAG,YAAU;AAClC,eAAO,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC;KAC/C,CAAA;;AAED,eAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAU;AACpC,YAAI,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5C,YAAG,CAAC,IAAI,EAAC;AACL,mBAAO,IAAI,CAAC;SACf;AACD,eAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;KAC3B,CAAA;;AAED,eAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAU;AACpC,eAAO,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;KACxE,CAAA;;AAED,eAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAU;AACpC,YAAI,CAAC,MAAM,GAAG,EAAE,CAAC;AACjB,eAAO,IAAI,CAAC,KAAK,EAAE,CAAC;KACvB,CAAA;;AAED,eAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,IAAI,EAAC;AACtC,eAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAA;;AAED,eAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,IAAI,EAAE,GAAG,EAAC;AAC3C,YAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;AACxB,eAAO,IAAI,CAAC,KAAK,EAAE,CAAC;KACvB,CAAA;;AAED,WAAO,WAAW,CAAC;CACtB,CAAC,CAAC","file":"src/local_object.js","sourcesContent":["define(function(){\n    function LocalObject(id, overwrite){\n      if (!(this && this instanceof LocalObject)) { return; }\n      if (arguments.length < 1) { throw new TypeError(\"LocalObject - not enough arguments\"); }\n      this.id = id;\n      if(overwrite){\n        this.clear();\n      } else {\n        var fetchedItem = this.fetch();\n        if(fetchedItem){\n            this.object = fetchedItem;\n        } else {\n            this.object = {};\n        }\n      }\n    }\n\n    LocalObject.prototype.key = function(){\n        return \"local_object_3dui_object\" + this.id;\n    }\n\n    LocalObject.prototype.fetch = function(){\n        var item = localStorage.getItem(this.key());        \n        if(!item){\n            return item;\n        }\n        return JSON.parse(item);\n    }\n\n    LocalObject.prototype.write = function(){\n        return localStorage.setItem(this.key(), JSON.stringify(this.object));\n    }\n\n    LocalObject.prototype.clear = function(){\n        this.object = {};\n        return this.write();\n    }\n\n    LocalObject.prototype.get = function(prop){\n        return this.object[prop];\n    }\n\n    LocalObject.prototype.set = function(prop, val){\n        this.object[prop] = val;\n        return this.write(); // TODO: see if this is a performance problem\n    }\n\n    return LocalObject;\n});\n"]}